
package omniengage;

import org.testng.annotations.BeforeTest;
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.support.ui.WebDriverWait;

@Test
public class Login {
	WebDriver driver;
	WebDriverWait wait;

	@BeforeTest
	@Parameters("browser")
	public void setup(String browser) throws Exception {
		
		// Check if parameter passed from TestNG is 'firefox'
		
		if (browser.equalsIgnoreCase("firefox")) {
			
			// create firefox instance
			
			System.setProperty("webdriver.gecko.driver", ".\\geckodriver.exe");
			
			driver = new FirefoxDriver(); // initializing driver
		
		} 
		
		// Check if parameter passed as 'chrome'
		
		else if (browser.equalsIgnoreCase("chrome")) {
		
			// set path to chromedriver.exe
			
			System.setProperty("webdriver.chrome.driver", ".\\chromedriver.exe");
			
			// create chrome instance
			
			driver = new ChromeDriver();
		}

		// Check if parameter passed as 'Edge'
		
		else if (browser.equalsIgnoreCase("Edge")) {
		
			// set path to Edge.exe
			
			System.setProperty("webdriver.edge.driver", ".\\MicrosoftWebDriver.exe");
			
			// create Edge instance
			driver = new EdgeDriver();
		}
		
		else {
			// If no browser passed throw exception
			throw new Exception("Browser is not correct");
		}
		Thread.sleep(5000);

	}

	public void Loginpage() throws InterruptedException {

		System.setProperty("webdriver.chrome.driver", "/home/anshumann/Downloads/chromedriver");

		this.driver.navigate().to("https://app.omniengage.co/login"); // navigating to url

		this.driver.manage().window().maximize(); // maximizing window

		this.driver.findElement(By.xpath("//*[@id=\'root\']/div/div/div/div[2]/form/div/div[3]/div/input"))
				.sendKeys("anshumann.singh@venturepact.com");
		this.driver.findElement(By.xpath("//*[@id=\'root\']/div/div/div/div[2]/form/div/div[4]/div[1]/input"))
				.sendKeys("Pass@123");
		// Sending user name and password

		this.driver.findElement(By.xpath("//*[@id=\'root\']/div/div/div/div[2]/form/div/div[5]/input")).click();
		// Clicking submit
	}

}
